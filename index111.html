<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test RevoU</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&display=swap" rel="stylesheet">

    <style>
        .rounded-box {
            border: 2px solid black;
            border-radius: 15px;
            padding: 20px;
            background-color: #ecf0f1;
            margin-bottom: 1rem;
        }

        .upper-card {
            display: flex;
            justify-content: space-between;
            grid-column: auto;
        }

        .card-con {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 480px) {
            .card-con {
                display: block;
            }
        }
    </style>
</head>

<body style="font-family: Geist Mono;">
    <div style="display: block; font-size: 1rem;">
        <h1>
            Ini pake HTML CSS JS, font CDN geist mono
        </h1>
        <!-- <div class="word-nav">
            <h2 id="inilah" style="color: blue;">Ini apa yakkk</h2>
        </div> -->
        <div id="card-container" class="card-con">
            <!-- <div id="card_example" class="rounded-box">
                <div class="upper-card">
                    <h2 id="title">
                        Ini judul
                    </h2>
                    <div style="display: inline-flex; gap: 1rem;">
                        <p>Ini ID post</p>
                        <p>by ID user</p>
                    </div>
                </div>
                <p>Ini deskripsi</p>
            </div>

            <div id="card_example" class="rounded-box">
                <div class="upper-card">
                    <h2 id="title">
                        Ini judul
                    </h2>
                    <div style="display: inline-flex; gap: 1rem;">
                        <p>Ini ID post</p>
                        <p>by ID user</p>
                    </div>
                </div>
                <p>Ini deskripsi<p> -->
        </div>

        <div id="post-container">
            <h2 id="error-text" style="display: none;"></h2>
            <h2 id="result" style="display: none;"></h2>
        </div>
    </div>


    <script>
        const container = document.getElementById("post-container");
        const cardContainer = document.getElementById("card-container");
        const errorText = document.getElementById("error-text");
        const resultText = document.getElementById("result");

        function makeHtmlCard(item) {
            let htmlString = `
                <div class="upper-card">
                    <h2 id="title">
                        ${item.title.length > 20 ? item.title.slice(0, 20 - 3) + "..." : item.title}
                    </h2>
                    <div style="display: inline-flex; gap: 1rem;">
                        <p>post ID ${item.id}</p>
                        <p>by user ID ${item.userId}</p>
                    </div>
                </div>
                <p>${item.body}</p>
            `;

            const card = document.createElement("div");
            card.classList.add("rounded-box");
            card.innerHTML = htmlString;

            cardContainer.appendChild(card);
        }

        async function fetchData() {
            try {
                const response = await fetch('https://jsonplaceholder.typicode.com/posts');
                if (!response.ok) {
                    throw new Error("HTTP Error ${response.status}");
                }
                return await response.json();
            } catch (error) {
                console.error(error);
                errorText.style.display = "block";
                errorText.textContent = error.message;
                return null;
            }
        }

        async function populate() {
            const apiData = await fetchData();

            if (apiData) {
                cardContainer.innerHTML = "";

                apiData.forEach(item => {
                    makeCard(item);
                });
            }
        }

        function makeCard(item) {
            const card = document.createElement("div");
            card.classList.add("rounded-box");

            // Upper section
            const upper = document.createElement("div");
            upper.classList.add("upper-card");

            const title = document.createElement("h2");
            title.textContent = item.title.length > 20 ? item.title.slice(0, 17) + "..." : item.title;
            // title.style.alignItems = "center";

            const info = document.createElement("div");
            info.style.display = "inline-flex";
            info.style.gap = "1rem";

            const postId = document.createElement("p");
            postId.textContent = `post ID ${item.id}`;

            const userId = document.createElement("p");
            userId.textContent = `by user ID ${item.userId}`;

            info.appendChild(postId);
            info.appendChild(userId);

            upper.appendChild(title);
            upper.appendChild(info);

            // Body
            const body = document.createElement("p");
            body.textContent = item.body;

            // Assemble
            card.appendChild(upper);
            card.appendChild(body);

            cardContainer.appendChild(card);
        }


        populate();

        // const element = document.getElementById("inilah");

        // let currentStep = 1;

        // function animateWord() {
        //     switch (currentStep) {
        //         case 1:
        //             // element.style.display = "none";
        //             element.style.color = "red";
        //             element.style.marginLeft = "50%";
        //             element.style.marginTop = "10%";
        //             currentStep = 2;
        //             break;
        //         case 2:
        //             element.style.color = "blue"
        //             element.style.marginLeft = "80%";
        //             element.style.marginTop = "20%";
        //             currentStep = 3;
        //             break;
        //         case 3:
        //             element.style.color = "red"
        //             element.style.marginLeft = "50%";
        //             element.style.marginTop = "20%";
        //             currentStep = 4;
        //             break;
        //         case 4:
        //             element.style.color = "blue"
        //             element.style.marginLeft = "10%";
        //             element.style.marginTop = "10%";
        //             currentStep = 1;
        //             break;
        //     }
        //     // element.style.display = "block";
        // }

        // setInterval(animateWord, 1000);
    </script>
</body>

</html>